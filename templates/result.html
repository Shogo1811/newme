<!doctype html>
<html>
<head>
    <title>äºˆæ¸¬çµæœ</title>
    <style>
        body {
            font-family: "Segoe UI", "Helvetica Neue", sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 700px;
            margin: 60px auto;
            background-color: #fff;
            padding: 40px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            text-align: center;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }

        p {
            font-size: 1.2em;
            margin: 10px 0;
        }

        img {
            margin-top: 30px;
            max-width: 100%;
            border: 1px solid #ccc;
            border-radius: 8px;
        }

        a {
            display: inline-block;
            margin-top: 30px;
            text-decoration: none;
            color: #3498db;
            font-weight: bold;
        }

        a:hover {
            text-decoration: underline;
        }

        .ward-list {
            margin-top: 30px;
            text-align: left;
        }

        .ward-list h2 {
            color: #2c3e50;
            font-size: 1.4em;
            margin-bottom: 10px;
        }

        .ward-list ul {
            list-style: none;
            padding: 0;
        }

        .ward-list li {
            font-size: 1.1em;
            padding: 4px 0;
            border-bottom: 1px solid #eee;
        }

        .sub-section {
            margin-top: 50px;
            text-align: left;
        }

        .sub-section h3 {
            font-size: 1.2em;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .sub-section ul {
            list-style: none;
            padding-left: 0;
        }

        .sub-section li {
            padding: 4px 0;
        }

        .info-box {
            background-color: #e8f4fc;
            border: 1px solid #b3d8ef;
            border-radius: 10px;
            padding: 20px;
            text-align: left;
            margin-bottom: 40px;
        }

        .info-box h2 {
            font-size: 1.3em;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .info-box ul {
            list-style: none;
            padding-left: 0;
        }

        .info-box li {
            margin-bottom: 6px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>äºˆæ¸¬çµæœ</h1>

        <div class="info-box">
            <h2>ã“ã®äºˆæ¸¬ã«ã¤ã„ã¦</h2>
            <p>
                æœ¬ã‚µã‚¤ãƒˆã§ã¯ã€ç‰©ä»¶ã®æ¡ä»¶ï¼ˆåºƒã•ãƒ»ç¯‰å¹´ãƒ»é§…è·é›¢ãƒ»ã‚¨ãƒªã‚¢ãªã©ï¼‰ã‚’ã‚‚ã¨ã«ã€<strong>AIãŒä¾¡æ ¼ã‚’äºˆæ¸¬</strong>ã—ã¦ã„ã¾ã™ã€‚<br>
                å®Ÿéš›ã®ä¾¡æ ¼ã¨ã®æ¯”è¼ƒã§ã€<strong>ã€Œç›¸å ´ã‚ˆã‚Šé«˜ã„ or å®‰ã„ã€</strong>ã‚’åˆ¤æ–­ã§ãã¾ã™ã€‚
            </p>
            <ul>
                <li>ğŸ  <strong>é¢ç©ï¼ˆã¡ï¼‰</strong>ï¼šåºƒã„ç‰©ä»¶ã»ã©ä¾¡æ ¼ãŒé«˜ããªã‚Šã‚„ã™ã„ã§ã™</li>
                <li>ğŸš¶â€â™€ï¸ <strong>æœ€å¯„é§…ã‹ã‚‰ã®è·é›¢</strong>ï¼šé§…è¿‘ã®ç‰©ä»¶ã¯äººæ°—ã§ä¾¡æ ¼ãŒä¸ŠãŒã‚‹å‚¾å‘</li>
                <li>ğŸ™ <strong>ã‚¨ãƒªã‚¢ï¼ˆåŒºï¼‰</strong>ï¼šäººæ°—ã®é«˜ã„åœ°åŸŸã»ã©ä¾¡æ ¼ã‚‚é«˜ã‚ã«ãªã‚Šã¾ã™</li>
                <li>ğŸ— <strong>ç¯‰å¹´æ•°</strong>ï¼šç¯‰æµ…ï¼ˆæ–°ç¯‰ã«è¿‘ã„ï¼‰ã»ã©é«˜ããªã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™</li>
            </ul>
            <p>
                ä¾¡æ ¼å·®ã«ã¯ã€Œæ”¹è£…ã®æœ‰ç„¡ã€ã€Œæ–¹è§’ã‚„çœºæœ›ã€ã€Œå£²ä¸»ã®äº‹æƒ…ã€ãªã©ã‚‚å½±éŸ¿ã—ã¾ã™ã€‚<br>
                ã‚ãã¾ã§<strong>å‚è€ƒç›®å®‰</strong>ã¨ã—ã¦ã”åˆ©ç”¨ãã ã•ã„ã€‚
            </p>
        </div>

        <p>RMSE: {{ rmse }}</p>
        <p>RÂ²ã‚¹ã‚³ã‚¢: {{ r2 }}</p>

        {% if predictions %}
        <div class="ward-list">
            <h2>åŒºã”ã¨ã®äºˆæ¸¬ä¾¡æ ¼ã¨å®Ÿéš›ä¾¡æ ¼ï¼ˆä¸‡å††ï¼‰</h2>
            <ul>
                {% for ward, price in predictions.items() %}
                    <li>
                        {{ ward }}ï¼š
                        äºˆæ¸¬ {{ "{:,.0f}".format(price / 10000) }} ä¸‡å††
                        {% if actuals and ward in actuals %}
                            ï¼ å®Ÿéš› {{ "{:,.0f}".format(actuals[ward] / 10000) }} ä¸‡å††
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        {% if eras %}
        <div class="ward-list">
            <h2>ç¯‰å¹´å¸¯ã”ã¨ã®äºˆæ¸¬ä¾¡æ ¼ï¼ˆä¸‡å††ï¼‰</h2>
            {% for ward, era_data in eras.items() %}
                <div class="sub-section">
                    <h3>{{ ward }}</h3>
                    <ul>
                        {% for era, price in era_data.items() %}
                            <li>{{ era }}ï¼š{{ "{:,.0f}".format(price / 10000) }} ä¸‡å††</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
        </div>
        {% endif %}

        <div class="ward-list">
            <h2>å¹´æ¬¡åˆ¥ã®å¹³å‡ä¾¡æ ¼æ¨ç§»</h2>
            <img src="{{ url_for('static', filename='yearly_trend.png') }}" alt="å¹´æ¬¡åˆ¥ä¾¡æ ¼æ¨ç§»">
        </div>

        <div>
            <img src="{{ image_path }}" alt="çµæœã®æ•£å¸ƒå›³">
        </div>

        <br><a href="/">æˆ»ã‚‹</a>
    </div>
</body>
</html>
